<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta name="title" content="Slider.js: Slideshow with jQuery and CSS Transitions - example with Flickr" />
    <meta name="Description" content="Slider.js is an easy-to-use customizable Javascript library to create image slideshows. It relies on the power of CSS Transitions to perform awesome and efficient effects. Slider.js can optionally uses HTML5 Canvas to perform some non trivial transitions." />
    <meta name="Keywords" content="slider.js slider slideshow javascript jquery css transitions canvas css3 flickr" />
    <title>Slider.js: Slideshow with jQuery, CSS Transitions and Canvas - example with Flickr</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js"></script>
    <script type="text/javascript" src="slider.js"></script>
    <link href="slider.min.css" rel="stylesheet" type="text/css" /> 
    
    <!-- demo related resources -->
    <script type="text/javascript" src="demo.js"></script>
    <link href="demo.min.css" rel="stylesheet" type="text/css" />

    <!-- flexible nav: http://demo.greweb.fr/flexible-nav -->
    <script type="text/javascript" src="http://lib.greweb.fr/flexible-nav/flexible-nav.min.js"></script>
    <link rel="stylesheet" href="http://lib.greweb.fr/flexible-nav/flexible-nav.min.css" type="text/css" media="screen" charset="utf-8">
    <script type="text/javascript" charset="utf-8">
      $(function(){
          var nav = new FlexibleNavMaker('h1,[data-navtext]').make().prependTo('body');
          new FlexibleNav(nav);
    });
    </script>

    <!-- flattr -->
    <script type="text/javascript">/* <![CDATA[ */
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
        t.parentNode.insertBefore(s, t);
    })();/* ]]> */
    </script>
  
<!--[if IE]>
<script type="text/javascript">
$.each(['blockquote', 'header', 'footer', 'section', 'aside', 'nav', 'code', 'article', 'figure', 'figcaption'], function(tag){
  document.createElement(tag);
});
</script>
<![endif]-->

  </head>

<body>
  <div style="position: absolute; top: 0; left: 0;">
    <a href="http://github.com/gre/slider.js" target="_blank">
      <img src="forkmeongithub.png" alt="Fork me on Github" />
    </a>
  </div>

  <div id="wrapper">
    
    <div style="float: left; margin-right: 20px;">
      <a class="FlattrButton" style="display:none;" href="http://demo.greweb.fr/slider"></a>
      <noscript>
        <a href="http://flattr.com/thing/419234/Slider-js" target="_blank">
          <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" />
        </a>
      </noscript>
    </div>

    <header>
      <h1 data-navtext="Slider demo">Slider.js <span class="new">v1.1-beta</span>: Slideshow with jQuery and CSS Transitions</h1>
      <p><strong>Slider.js is an easy-to-use customizable Javascript library to create image slideshows.</strong></p>
      <p style="clear: both">
      <!-- Slider.js is an hybrid solution which allows you to use CSS Transitions to perform sliding or HTML5 Canvas animations to perform awesome non trivial transitions.<br/> -->
      It relies on the power of <strong>CSS Transitions</strong> to perform awesome and efficient effects.<br/>
      Slider.js can optionally uses <strong>HTML5 Canvas</strong> to perform some non trivial transitions. 
      <span class="new">(new)</span>
      </p>
    </header>

    <section class="slider">
    <form id="options">
      <fieldset id="slider_options">
      <legend>Slider options</legend>
      <dl style="color: red; background: white">
        <dt>
          <label for="transitions">Transition effect :</label>
        </dt>
        <dd>
          <select id="transitions">
            <optgroup label="Canvas transitions">
              <option value="squares">Squares</option>
              <option value="circles">Circles</option>
              <option value="circle">Circle</option>
              <option value="clock">Clock</option>
              <option value="fadeLeft">Fade left</option>
              <option value="verticalOpen">Vertical open</option>
              <option value="verticalSunblind">Vertical Sunblind</option>
              <option value="horizontalOpen">Horizontal open</option>
              <option value="sunblind">Horizontal Sunblind</option>
            </optgroup>
            <optgroup label="CSS transitions">
              <option value="transition-opacity">Opacity</option>
              <option value="transition-simple1">Simple</option>
              <option value="transition-zoomin">Zoom in</option>
              <option value="transition-zoomout">Zoom out</option>
              <option value="transition-flip">Flip</option>
              <option value="transition-cardflip">Card flip</option>
              <option value="transition-skewflip">Skew flip</option> 
              <option value="transition-rotatezoomin">Rotate and scale in</option> 
              <option value="transition-rotatezoomout">Rotate and scale out</option>
              <option value="transition-topfade">Top fade</option>
            </optgroup>
            <optgroup label="CSS Experimental">
              <option value="transition-left">Left</option>
              <option value="transition-top">Top</option> 
              <option value="transition-oblique">Oblique</option>
            </optgroup>
          </select>
        </dd>
      </dl>
      <dl>
        <dt>
          <label for="themes">Theme :</label>
        </dt>
        <dd>
          <select id="themes">
            <option value="theme-dark">Dark blue</option>
            <option value="theme-light">Light</option>
            <option value="theme-darkgreen">Dark green</option>
            <option value="theme-red">Red</option>
          </select>
        </dd>
      </dl>
    </fieldset>
    <fieldset id="flickr_options">
        <legend><input id="flickr_enabled" type="checkbox" /> <label for="flickr_enabled">Use Flickr</label></legend>
        <dl>
          <dt>
            <input type="radio" name="method" value="recent" id="method_recent" checked="checked" />
            <label for="method_recent">Recent photos</label>
          </dt>
        </dl>
        <dl>
          <dt>
            <input type="radio" name="method" value="search" id="method_search" />
            <label for="method_search">Search photos</label>
          </dt>
          <dd>
            <input type="text" name="search" id="search" />
          </dd>
        </dl>
        <dl>
          <dt>
            <label for="options_nb">Number of slides : </label>
          </dt>
          <dd>
            <select id="options_nb" name="options_nb">
                <option value="5">5</option>
                <option value="10" selected="selected">10</option>
                <option value="15">15</option>
                <option value="20">20</option>
                <option value="30">30</option>
            </select>
          </dd>
        </dl>
      <p class="buttons">
        <button type="submit">Refresh</button>
      </p>

      </fieldset>
 
    </form>

    <div id="demo"></div>
    </section>

    <section>
    <article id="intro">
      <h1>Why using Slider.js?</h1>
      <h2>Basic features</h2>
      <ul>
        <li>Slides navigation (pages, next, previous)</li>
        <li>Each slide displays the image, but can also have a text caption and a link.</li>
      </ul>

      <h2>Highly extendable and customizable</h2>
      <h3>Transitions</h3>
      <p><strong>Choose</strong> your transition among 13 available CSS Transitions and 8 built-in Canvas transition functions.</p>
      <p><strong>Implement</strong> your own transition in the technology you mastery:
      <ul>
        <li><strong>Style</strong> your own CSS transitions which fit the best your needs.</li>
        <li><strong>Implement</strong> your own render function manipulating images pixels and Canvas API.</li>
      </ul>
      </p>
      <h3>Themes</h3>
      <p>Choose or style your own <strong>theme</strong>.</p>
      <h3>Features</h3>
      <p><strong>Extend</strong> the API with new features. (see our <a href="#hackability">Flickr example</a>)</p>

      <h2>Lightweightness</h2>
      <dl>
        <dt>slider.min.js</dt>
        <dd>9.5K</dd>
        <dt>slider.min.css</dt>
        <dd>7.7K</dd>
      </dl>

      <h2>Browser compatibility</h2>
      <p>This library intends to work perfectly with latest browsers (Chrome, Firefox 4+, Safari, IE9).</p>
      <p>For CSS Transitions on older browsers (like IE6) the slider works out of the box and the degradation is graceful thanks to CSS. 
    There is no animations between slides but slides changes are working fine. That's pretty fair for old browsers.</p>
      <p>A canvas usage falls back on CSS version if not supported.</p>

    <h1 id="sourcecode">Usage and API</h1>
    <h2>Best way is to hack...</h2>
    <h3>...the source code</h3>
    <ul>
      <li>see <a target="_blank" href="docs/slider.html">Annotated slider.js source code</a>.</li>
      <li>see <a target="_blank" href="https://github.com/gre/slider.js/blob/master/slider.less">slider.less source code</a>.</li>
    </ul>

    <h3>Try it live with your web console</h3>
    <p>Open your web console and play with the <code class="inline">slider</code> variable.</p>

<h2>Slider.js</h2>

<p>The Slider constructor takes an empty container DOM node in argument.
<code>var slider = new Slider($('#sliderContainer'));</code>
</p>

<p>You can start the slider by setting photos through a JSON object:
<code>slider.setPhotos([
  { "src" : "images/evil-frank.png", "name": "Big Buck Bunny" },
  { "src" : "images/s1_proog.jpg", "name": "Elephant Dreams" }
]);</code>
The format of this JSON is <em>an <strong>Array</strong> of { <strong>src</strong>, <strong>name</strong> (optional), <strong>link</strong> (optional) } </em>
</p>

<p>Or fetch this JSON with AJAX:
<code>slider.fetchJson("photos.json");</code>
</p>

<p>Don't forget to set your slider images size:
<code>slider.setSize(400, 300);</code>
</p>

<p>Themes and CSS transitions can be switched live with these methods:
<code>slider.setTheme('theme-dark');
slider.setTransition('transition-zoomin');</code>
</p>

<p>For the Canvas usage, see <a href="#canvaspart">the canvas part</a> section.</p>


<h3>Advanced usages</h3>

<p>Stop the slider if needed:
<code>slider.stop();</code>
</p>

<p>And (re)start it:
<code>slider.start();</code>
</p>

<p>To manually change slides, use:
<code>slider.next();   // next slide
slider.prev();   // previous slide
slider.slide(4); // go to slide number 4</code>
</p>

<p>You can chain different methods in any order
<code>slider.setSize('400px', '300px')
    .fetchJson("/photos.json")
    .slide(5)
    .setTheme('theme-light')
    .setTransition('transition-zoomout');</code>
</p>

<h2>The CSS</h2>
<p>To implement your own slider CSS transitions, choose a transition name and describe what change between at least 2 selectors.</p>
<p>For instance using <code class="inline">tn</code> transition name you could define rules for <code class="inline">.slider.tn .slider-image</code> and <code class="inline">.slider.tn .slider-image.current</code>.</p>

<h3>Example: Zoom in transition</h3>
<code>/* zoom in */
.slider.transition-zoomin .slide-image {
    transform: scale(2);
}
.slider.transition-zoomin .slide-image.current {
    transform: scale(1);
}</code>

<h3>Example: Left transition</h3>
<code>/* left transition */
.slider.transition-left .slide-image {
    opacity: 1;
    left: -100%;
}
.slider.transition-left .slide-image.current {
    left: 0;
}
.slider.transition-left .slide-image.current ~ .slide-image {
    left: 100%;
}</code>

<p>Note that using a Canvas transition, this CSS transition is only used for the caption text.</p>

<p>On the same principle, you can define your own slider theme with CSS.</p>
<h3>Example: dark theme</h3>
<p><em>Less</em> source code:
<code>.slider.theme-dark {
  background: black;
  color: white;
  .box-shadow(1px 1px 5px black);
  a {
      color: white;
  }
  .caption {
      background: rgba(0,0,0,0.5);
  }
  .options a {
      color: #91BECC;
      &:hover {
          color: #D3E5EB;
      }
  }
  .slide-image {
      background: black;
  }
  .slide-pager a.current {
      background-color: #91BECC;
      color: black;
  }
  .loader .spinner {
      background: url(load_dark.gif) no-repeat;
  }
}</code>
</p>

<h2 id="canvaspart">Canvas API</h2>
<p>
Using the Canvas API is <strong>optional</strong>. Most of times, CSS transitions can fit your needs.
But if you want more effects manipulating images, you need to handle your own <strong>render</strong> function.
</p>

<h3>setTransitionFunction</h3>
<p>You can use <code class="inline">setTransitionFunction</code> to set the transition function.</p>
<ul>
  <li><strong>Pick one of the built-in</strong> transition functions:
<code>slider.setTransitionFunction(SliderTransitionFunctions.clock);</code>
</li>
<li>Or <strong>implement your own transition function</strong>.<br/>
Basically, you implement the <em>render</em> method, the loop function called during the transition:
<code>slider.setTransitionFunction({
  render: function(slider, from, to, progress){
    // draw the current transition from image from to to with progress percent.
  }
});</code>
</li>
</ul>

<p>This <em>render</em> function <strong>must be performant</strong> because it directly impacts the <em>render</em> framerate.</p>
<p>If you use datas which never change between two render frames, you could preload these datas implementing the <strong>init</strong> method.</p>
<p>For instance, you could extract once the Canvas <em>ImageData</em> from the two transition images:
<code>slider.setTransitionFunction({
  init: function(self, from, to) {
    return SliderUtils.extractImageData(self, from, to);
  },
  render: function(slider, from, to, progress, externalDatas){
    // externalDatas.fromData
    // externalDatas.toData
    // externalDatas.output
    ...
  }
});</code>
</p>

<h3>setTransitionDuration</h3>
<p>You can also define the <strong>transition duration</strong>.</p>
<p>Using CSS transitions, this transition duration can be overrided with the <em>transition-duration</em> property.
But with Canvas, you must use the <code class="inline">setTransitionDuration</code> method. It takes the duration in milliseconds.
<code>slider.setTransitionDuration(1000) // the default</code>
</p>




    <h1>How does it work?</h1>

    <h2>Canvas Animations VS CSS Transitions</h2>
    <p>Slider.js provides a transparent Canvas or CSS transitions support: Whatever the technology you choose for the transition, the slider should work properly and in a same way.</p>
    <p>But each technology has its own good and bad points:</p>
    <table>
      <thead>
        <tr>
          <td></td>
          <th>Canvas</th>
          <th>CSS Transitions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>Usability</th>
          <td>Medium (Javascript and Canvas API knowledge required)</td>
          <td>Easy</td>
        </tr>
        <tr>
          <th>Performance</th>
          <td>Good (thanks to <code class="inline">requestAnimationFrame</code>)</td>
          <td>Very good</td>
        </tr>
        <tr>
          <th>Possibilities</th>
          <td>Infinite (you manipulate pixels how you want)</td>
          <td>Limited (to CSS)</td>
        </tr>
      </tbody>
    </table>

    <h2>How CSS transitions works</h2>
    <p>CSS and Javascript are splitted and independent.</p>
    <ul>
        <li>The javascript part just does <strong>ajax stuff, templating and change a few classes</strong>.
        To perform slide change, only a <code class="inline">current</code> class is moved.</li>
        <li>The CSS part styles the slider and use classes setted by Javascript to perform Slider effects with <strong>CSS Transitions</strong>.</li>
    </ul>
    
    <p>For instance, <code class="inline">slider.setTransition('transition-left')</code> 
    will set a <code class="inline">transition-left</code> class which will be used in CSS to describe the transition
    with <strong>CSS3 Transitions</strong>.</p>
    <p>Hence, you can add your own transitions very easily. Mixing with <strong>CSS3 Transforms</strong>, effects are incredible and very efficient (animations are rendered by your browser : accelerated and optimized).</p>

    <h2>How Canvas animation works</h2>

    <p>Soon...</p>


 <h1 id="hackability" data-navtext="Flickr example">Hackability - Flickr example</h1>

<p>With this Slider API. Let's see how to easily retrieve flickr photos.</p>
<p>
Let's create a new slider
<code>var slider = new Slider($('#sliderContainer'));</code>
Now, let's create a new method in this slider :
<code>slider.fetchFlickr = function(options) {
  this.fetchJson('http://www.flickr.com/services/rest/?jsoncallback=?', $.extend({
    method: 'flickr.photos.getRecent',
    per_page: 10,
    format: 'json',
    api_key: 'be902d7f912ea43230412619cb9abd52' // Your API key
  }, options), function(json){ 
    return $.map(json.photos.photo, function(photo){
      return {
        link: 'http://www.flickr.com/photos/'+photo.owner+'/'+photo.id,
        src: 'http://farm'+photo.farm+'.static.flickr.com/'+
            photo.server+'/'+photo.id+'_'+photo.secret+'_z.jpg',
        name: photo.title.substring(0,20)
      }
    });
  });
  return this;
}</code>
</p>

<p>In only 18 lines of code, we have created an awesome flickr slider!</p>

<p><strong>Let's see deeply this code source here: <a href="docs/fetchFlickr.html" target="_blank">fetchFlickr.js annoted source</a>.</strong></p>

<h2>Usage</h2>

<p>Default behavior : get recent Flickr photos.
<code>slider.fetchFlickr();</code>
</p>

<p>You can override default flickr options by passing params (see <a href="http://www.flickr.com/services/api/" target="_blank">flickr API</a>).<br/>
Retrieve 30 recent photos searching "China" :
<code>slider.fetchFlickr({
    per_page: 30,
    method: 'flickr.photos.search',
    text: 'China'
});</code>
</p>
    </article>
    </section>
    
    
    <ul>
        <li>see also <a target="_blank" href="http://blog.greweb.fr/2010/05/css3-transitions-available-on-firefox-3-7">CSS Transitions blog article</a></li>
        <li>see also <a target="_blank" href="http://www.zengularity.com/item/1583389563/les-transitions-css3-un-exemple-de-diaporama-dimages">[fr] Vidéo: Les transitions CSS3 : un exemple de diaporama d'images</a></li>
    </ul>

    <footer>Slider.js: Slideshow with jQuery, CSS Transitions and Canvas - by Gaetan Renaudeau - 2011 - <a href="http://greweb.fr/">greweb.fr</a></footer>
  
  </div>
  
  <script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-9919624-4']);
_gaq.push(['_trackPageview']);

(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body>
</html>

